<div class="m-card--primary u-margin-bottom-large">
    <app-section-title
        title="Alkaline - Nickel Metal"
        class="u-margin-bottom"
    ></app-section-title>
    <app-text-input
        [label]="'PAGE.RECYCLING-PROCESSES.LABELS.NAME' | translate"
        [control]="recyclingProcessForm.get('name')"
        class="u-margin-bottom-x-large"
    ></app-text-input>
    <div class="m-card--secondary u-margin-bottom-x-large">
        <p class="u-no-margin u-margin-bottom"><b>{{ 'PAGE.RECYCLING-PROCESSES.PROCESS-TITLE' | translate }}</b></p>
        <p class="u-no-margin">{{ 'PAGE.RECYCLING-PROCESSES.PROCESS-DESCRIPTION' | translate }}</p>
    </div>
    <div *ngFor="let step of recyclingProcessForm.controls.steps.controls | keyvalue">
        <app-sub-section-title
            [title]="'PAGE.RECYCLING-PROCESSES.RECYCLING-STEP' | translate:{key: getStepKey(step.key)}"
            class="u-margin-bottom-large"
        >
            <div action>
                <button class="a-button--link a-button--small" (click)="deleteStep(step.key)">{{ 'GENERAL.LABELS.DELETE-STEP' | translate }}</button>
                <button class="a-button--link a-button--small" (click)="duplicateStep(step.key)">{{ 'GENERAL.LABELS.DUPLICATE-STEP' | translate }}</button>
            </div>
        </app-sub-section-title>
        <app-select-input
            [label]="'PAGE.RECYCLING-PROCESSES.LABELS.PRECEDING-STEP' | translate"
            [control]="step.value.get('precedingStep')"
            [options]="precedingSteps()"
            class="u-margin-bottom-x-large"
        ></app-select-input>
        <app-text-input
            [label]="'PAGE.RECYCLING-PROCESSES.LABELS.DESCRIPTION' | translate"
            [description]="'PAGE.RECYCLING-PROCESSES.LABELS.DESCRIPTION-DESCRIPTION' | translate"
            [control]="step.value.get('description')"
            class="u-margin-bottom-x-large"
        ></app-text-input>
        <app-text-input
            [label]="'PAGE.RECYCLING-PROCESSES.LABELS.RECYCLING-SITE-OWNER' | translate"
            [control]="step.value.get('recyclingSiteOwner')"
            class="u-margin-bottom-large"
        ></app-text-input>
        <app-text-input
            [label]="'PAGE.RECYCLING-PROCESSES.LABELS.PROCESSING-METHOD' | translate"
            [control]="step.value.get('methodOfProcessing')"
            class="u-margin-bottom-large"
        ></app-text-input>
        <app-textarea-input
            [label]="'PAGE.RECYCLING-PROCESSES.LABELS.QUALITATIVE-DESCRIPTION' | translate"
            [description]="'PAGE.RECYCLING-PROCESSES.LABELS.QUALITATIVE-DESCRIPTION-DESCRIPTION' | translate"
            [control]="step.value.get('qualitativeDescription')"
        ></app-textarea-input>
        <app-file-upload
            [label]="'PAGE.RECYCLING-PROCESSES.LABELS.UPLOAD-FILE-WITH-FURTHER-DETAILS' | translate"
            class="u-margin-bottom-x-large"
        ></app-file-upload>
        <app-file-upload
            [title]="'PAGE.RECYCLING-PROCESSES.LABELS.SCHEMATIC-OVERVIEW' | translate"
            [description]="'PAGE.RECYCLING-PROCESSES.LABELS.SCHEMATIC-OVERVIEW-DESCRIPTION' | translate"
            class="u-margin-bottom-large"
        ></app-file-upload>
    </div>
    <button class="a-button--primary a-button-outline has-icon-after" (click)="addStep()">
        {{ 'GENERAL.LABELS.ADD-ADDITIONAL-STEP' | translate }}
    </button>
</div>
