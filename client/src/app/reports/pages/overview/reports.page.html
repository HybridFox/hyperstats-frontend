<app-page-title
  [title]="'PAGE.REPORTS.TITLE' | translate"
></app-page-title>
<div class="l-grid__row l-grid--with-margins u-margin-bottom">
  <div class="l-grid__col-4-12"></div>
  <div class="l-grid__col-8-12">
    <div class="m-filter u-pull-right">
      <app-select-input
        (change)="sortBy($event)"
        [inlineLabel]="true"
        label="{{ 'GENERAL.LABELS.SORTBY' | translate }}"
        [options]="sortOptions"
      ></app-select-input>
    </div>
    <a
      *ngIf="userIsRecycler"
      class="a-button--primary"
      [routerLink]="['new']"
    >
      {{ 'GENERAL.BUTTONS.CREATENEWREPORT' | translate}}
    </a>
  </div>
</div>

<div class="l-grid__row l-grid--with-margins">
  <div class="l-grid__col-4-12">
    <div class="m-card--primary">
      <app-vertical-menu *ngIf="userIsRecycler" [menuItems]="processesMenuItems$ | async"></app-vertical-menu>
      <app-vertical-menu *ngIf="!userIsRecycler" [menuItems]="recyclerMenuItems$ | async"></app-vertical-menu>
      <a *ngIf="userIsRecycler" class="a-button--primary a-button-outline has-icon-after u-margin-top" routerLink="new">
        {{ 'GENERAL.BUTTONS.CREATENEWREPORT' | translate }}
      </a>
      <p class="u-text-description">
        {{ 'PAGE.REPORTS.DESCRIPTION' | translate }}
      </p>
    </div>
  </div>
  <div class="l-grid__col-8-12">
    <div class="m-card--primary">
      <div *ngIf="!reportsActive">
        <p>{{ 'PAGE.REPORTS.NOREPORTS' | translate }}</p>
      </div>
      <app-loading *ngIf="reportsActive" [loading]="reportsLoading$ | async">
        <div *ngIf="!(reports$ | async)?.length">
          <p>{{ 'PAGE.REPORTS.NOPROCESSREPORTS' | translate }}</p>
        </div>
        <app-report-table
          [reports]="reports$ | async"
          [userIsRecycler]="userIsRecycler"
        ></app-report-table>
      </app-loading>
    </div>
  </div>
</div>
