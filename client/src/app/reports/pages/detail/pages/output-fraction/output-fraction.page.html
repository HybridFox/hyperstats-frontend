<div class="l-grid__row l-grid--with-margins u-margin-top">
  <div class="o-region--sidebar-first l-grid__col-3-12 m-card--primary">
    <app-vertical-menu [menuItems]="siteMenuItems$ | async"></app-vertical-menu>
  </div>
  <ng-container *ngIf="outputFraction" >
    <div class="l-grid__col-9-12 m-card--primary">
      <app-section-title
        [title]="(selectedProcess$ | async)?.data?.name || 'WIZARD.NEW-REPORT.LABELS.RECYCLING-PROCESS' | translate"
      ></app-section-title>
      <app-sub-section-title
        class="u-margin-bottom"
        [title]="'WIZARD.OUTPUT-FRACTION.TITLES.OVERVIEW' | translate"
      ></app-sub-section-title>
      <div class="m-card--secondary u-margin-bottom" *ngFor="let fraction of outputFraction.get('data').controls; let i = index;">
        <div class="l-grid__row l-grid--with-margins">
          <div class="l-grid__col-6-12">
            <app-select-input
              [label]="'WIZARD.OUTPUT-FRACTION.LABELS.ELEMENT' | translate"
              [control]="fraction.get('element')"
              [options]="codesService.elements()"
            ></app-select-input>
          </div>
          <div class="l-grid__col-6-12">
            <app-mass-input
              suffix="kg"
              type="number"
              [label]="'WIZARD.OUTPUT-FRACTION.LABELS.MASS' | translate"
              [description]="'WIZARD.OUTPUT-FRACTION.DESCRIPTIONS.ON-DRY-WEIGHT-BASIS' | translate"
              [control]="fraction.get('mass')"
              [totalWeight]="totalWeight"
            ></app-mass-input>
          </div>
        </div>
        <div class="l-grid__row l-grid--with-margins">
          <div class="l-grid__col-6-12">
            <app-select-input
              class="u-margin-top-x-large"
              [label]="'WIZARD.OUTPUT-FRACTION.LABELS.CLASSIFICATION' | translate"
              [control]="fraction.get('virginClassification')"
              [options]="codesService.elements()"
            ></app-select-input>
          </div>
          <div class="l-grid__col-6-12">
            <app-text-input
              class="u-margin-top-x-large"
              [label]="'WIZARD.OUTPUT-FRACTION.LABELS.REPLACED-VIRGIN-MATERIAL' | translate"
              [control]="fraction.get('virginReplacedMaterial')"
            ></app-text-input>
          </div>
        </div>
        <div class="l-grid__row l-grid--with-margins">
          <div class="l-grid__col-6-12">
            <app-select-input
              class="u-margin-top-x-large u-margin-bottom"
              [label]="'WIZARD.OUTPUT-FRACTION.LABELS.ELEMENT' | translate"
              [description]="'WIZARD.OUTPUT-FRACTION.DESCRIPTIONS.OF-ELEMENT' | translate"
              [control]="fraction.get('elementClassification')"
              [options]="codesService.elements()"
            ></app-select-input>
          </div>
          <div class="l-grid__col-6-12">
            <app-text-input
              class="u-margin-top-x-large u-margin-bottom"
              [label]="'WIZARD.OUTPUT-FRACTION.LABELS.REPLACED-ELEMENT-MATERIAL' | translate"
              [control]="fraction.get('elementReplacedMaterial')"
            ></app-text-input>
          </div>
        </div>
      </div>
      <a
        class="a-button--primary a-button-outline has-icon-after"
        (click)="addOutputFraction()">
          {{ 'WIZARD.OUTPUT-FRACTION.LABELS.ADD-ADDITIONAL-ELEMENT' | translate }} <i class="a-icon a-icon--plus"></i>
      </a>
      <div class="u-margin-top-large">
        <button (click)="previousStep()" class="a-button--ghost u-margin-right">{{ 'GENERAL.LABELS.PREVIOUS-STEP' | translate }}</button>
        <button (click)="nextStep()" class="a-button--primary">{{ 'GENERAL.LABELS.NEXT-STEP' | translate }}</button>
      </div>
    </div>
  </ng-container>
</div>
