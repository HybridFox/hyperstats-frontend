<div class="p-report u-margin-bottom-x-large">
  <app-page-title
    [title]="(form?.get('information').value?.name || 'WIZARD.TITLES.NEW-REPORT') | translate"
  ></app-page-title>
  <div class="m-card--primary u-margin-top">
    <div class="m-card">
      <div class="m-steps">
        <div
          class="m-steps__step"
          *ngFor="let step of steps; let i = index;"
          routerLinkActive="m-steps__step--selected"
          [ngClass]="{
            'm-steps__step--selected': (currentId === 'new' && i === 0),
            'm-steps__step--disabled': (currentId === 'new' && i !== 0)
          }"
        >
          <a [routerLink]="(currentId !== 'new') ? step.route : '#'">
            <pre>{{ reportFormService.getFormMetaData()?.get(step.key)?.value }}</pre>
            <div *ngIf="(step.key && reportFormService.getFormMetaData()?.get(step.key)?.value) || (!form?.get(step.key)?.valid || form?.get(step.key).value.length === 0); else itemValid" class="m-steps__step-icon">
              <span>{{i + 1}}</span>
            </div>
            <ng-template #itemValid>
                <div class="m-steps__step-icon m-steps__step-icon--passed">
                  <span class="a-icon a-icon--checkmark"></span>
                </div>
            </ng-template>
            <div class="m-steps__step-text">
              {{ step.name | translate }}
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
  <router-outlet *ngIf="form"></router-outlet>
</div>
